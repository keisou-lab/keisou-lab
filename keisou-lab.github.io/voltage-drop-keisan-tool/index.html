<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>電圧降下合計計算ツール | keisou-lab</title>

  <!-- SEO -->
  <meta name="description" content="複数区間の電圧降下を合計し、許容電圧降下率と比較してOK/NGを判定する無料ツール。VVF・CVV・計装ケーブルなどに対応。" />
  <meta name="author" content="keisou-lab" />
  <link rel="canonical" href="https://keisou-lab.github.io/voltage-drop-keisan-tool/" />

  <!-- Favicon（ルート共通） -->
  <link rel="icon" type="image/png" href="/favicon.png" />

  <!-- 共通スタイル＆共通インクルード -->
  <link rel="stylesheet" href="/style.css" />
  <script defer src="/include.js"></script>

  <!-- ページ固有の微調整（必要なら） -->
  <style>
    /* ヒーローの写真だけこのページ向けに差し替えたい場合はここで */
    /* ルート style.css の .hero をそのまま使うなら何も不要 */
  </style>
</head>

<body>
  <!-- 共通ヘッダー -->
  <div data-include="/common/header.html"></div>

  <!-- ヒーロー -->
  <section class="hero">
    <div class="hero-content">
      <h1>電圧降下合計計算ツール</h1>
      <p>複数区間の電圧降下を合計して、許容電圧降下率と自動比較。<br>現場でもスマホでサッと使える設計支援ツールです。</p>
      <div class="hero-badges">
        <span class="badge">VVF / CVV / 計装ケーブル</span>
        <span class="badge">OK/NG 即時表示</span>
        <span class="badge">CSV 出力</span>
      </div>
    </div>
  </section>

  <main class="container">
    <label>ケーブル種類
      <select id="cableType"></select>
    </label>

    <label>断面積 (mm²)
      <select id="section">
        <option value="">未指定（最小値）</option>
      </select>
    </label>

    <label>電圧 (V)
      <input id="voltage" type="number" inputmode="decimal" placeholder="例: 100" />
    </label>

    <label>電流 (A)
      <input id="current" type="number" inputmode="decimal" placeholder="例: 15" />
    </label>

    <label>距離 (m)（片道）
      <input id="length" type="number" inputmode="decimal" placeholder="例: 20" />
    </label>

    <label>力率 (pf)
      <input id="pf" type="number" step="0.01" min="0" max="1" value="1.00" />
    </label>

    <label>電源方式
      <select id="system">
        <option value="dc">直流</option>
        <option value="ac1">単相2線</option>
        <option value="ac3" selected>三相3線</option>
      </select>
    </label>

    <label>許容電圧降下率 (%)
      <input id="maxDropRate" type="number" inputmode="decimal" value="10" />
    </label>

    <button id="calcBtn" class="btn-primary">区間を追加</button>
    <button id="resetBtn" class="btn-ghost">リセット</button>

    <table id="cableTable">
      <thead>
        <tr>
          <th>ケーブル</th><th>断面積</th><th>距離(m)</th><th>降下率(%)</th><th>削除</th>
        </tr>
      </thead>
      <tbody></tbody>
    </table>

    <div id="totalBox" class="result-card"></div>

    <button id="downloadCsvBtn" class="btn-ghost">CSV出力</button>

    <p class="note" style="margin-top:10px">
      ※ 簡易計算：リアクタンスは無視し、往復長（2×距離）ベースで評価。<br>
      ※ 三相回路は等価的に見積り（設計時は必ず社内基準や電技解釈で最終確認）。<br>
      ※ ケーブルデータはサイト共通の <code>/cable_data.json</code> を参照しています。
    </p>
  </main>

  <!-- 共通フッター -->
  <div data-include="/common/footer.html"></div>

  <script src="./script.js"></script>
</body>
</html>
